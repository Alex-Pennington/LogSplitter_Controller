# LogSplitter Serial-to-MQTT Bridge Configuration

# Serial Connection Settings
[serial]
port = /dev/ttyACM0          # Linux/Mac: /dev/ttyACM0 or /dev/ttyUSB0
# port = COM3                # Windows: COM3, COM4, etc.
baudrate = 115200
timeout = 1.0

# MQTT Broker Settings  
[mqtt]
host = 192.168.1.155        # Your MQTT broker IP
port = 1883
username = logsplitter      # Optional authentication
password = your_password    # Optional authentication
client_id = logsplitter_bridge

# Topic Configuration
[topics]
base_topic = logsplitter/controller
telemetry = logsplitter/controller/telemetry
pressure = logsplitter/controller/pressure
sequence = logsplitter/controller/sequence
relays = logsplitter/controller/relays
inputs = logsplitter/controller/inputs
system = logsplitter/controller/system

# Logging Settings
[logging]
level = INFO                # DEBUG, INFO, WARNING, ERROR
log_file = bridge.log
console_output = true

# Bridge Behavior
[bridge]
auto_reconnect = true
reconnect_delay = 5         # seconds
buffer_size = 8192
publish_raw_messages = true
parse_structured_data = true

# Health Monitoring
[monitoring]
health_check_interval = 30  # seconds
publish_bridge_status = true
status_topic = logsplitter/bridge/status

# Message Filtering (optional)
[filters]
min_log_level = INFO        # Only forward messages at this level or above
exclude_patterns = []       # List of message patterns to exclude
include_only = []           # If set, only include messages matching these patterns

# Example filter patterns:
# exclude_patterns = ["debug pin change", "watchdog reset"]
# include_only = ["Pressure:", "Sequence:", "Relay:", "Input:", "ERROR", "CRIT"]